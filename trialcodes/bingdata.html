<!DOCTYPE html>
<html>
<head>
	<title>Bing Search</title>

	<script src="jquery-2.2.3.min.js" ></script>

</head>
<body>

<!-- Simple HTML -->

	<div id="search">
		
		<form>Search Here
			<input id="searchTerm"> <br>
			<input type="submit" id="getResults">
		</form>

	</div>

	<div id="viewResults">
	
		<div id="showArticles"></div>
		<div id="showVideos"></div>

	</div>


	<script type="text/javascript">

	$(document).ready (function() {

		$("#getResults").on("click", function() {

			var getBingTerm = $("#searchTerm").val().trim();
					console.log(getBingTerm);

			var bingUrl = "https://api.datamarket.azure.com/Bing/Search/v1/Composite?Sources=%27news%2Bimage%2Bvideo%27&Query=%27" + getBingTerm + "%27&$top=10&$format=json"

			$.ajax({ url: bingUrl, 	method: 'GET',
					headers: {
						Authorization: 'Basic '+ btoa('4LleeC+EOxRAuqHyHr2vjDad+DndwMdwKpPN0jvcBQk:4LleeC+EOxRAuqHyHr2vjDad+DndwMdwKpPN0jvcBQk')
					}
				}).done(function(response) {

						console.log(response);
					//	console.log(response.d.results[0].Video[1]);



					// Pull News

						var bingSearchArticles = response.d.results[0].News;

							for ( var ba = 0; ba < bingSearchArticles.length; ba++ ) {
								console.log(bingSearchArticles[ba]);

								$("#showArticles").append("<div class='articlesHere' id='articleTitle'>" + bingSearchArticles[ba].Title + "<br><br>" + "<p>" + bingSearchArticles[ba].Description + "</p>" + "<br>");

							}



						





					// Pull Videos

				});
		
			return false;

		});


			

	});
		



	</script>


<!-- End Script -->

</body>
</html>